$((function(){let t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e=null;function i(){const i=t<768?1:t<992?3:4;$.each(e,(function(e,n){if(e>11)return!1;let o,s,d;if(o=n.multimedia[0].url,null!=o){let a=n.multimedia[0].width,r=n.multimedia[0].height;1.5*a>r?(r=t/i*1.5,a="auto"):(a=t/i,r="auto"),d=n.url,s=n.abstract||n.title,$(".article-grid").append(`\n\t\t\t\t<a href="${d}" class="grid-links">\n\t\t\t\t\t<figure class="cell-${e}">\n\t\t\t\t\t\t<img src="${o}" width="${a}" height="${r}"/img>\n\t\t\t\t\t\t<figurecaption>\n\t\t\t\t\t\t\t<p>${s}</p>\n\t\t\t\t\t\t</figurecaption>\n\t\t\t\t\t</figure>\n\t\t\t\t</a>`)}}))}$("#category-selector").select2({width:"100%",theme:"classic",placeholder:"Sections...",data:[{id:1,text:"arts"},{id:2,text:"automobiles"},{id:3,text:"books"},{id:4,text:"business"},{id:5,text:"books"},{id:6,text:"business"},{id:7,text:"fashion"},{id:8,text:"food"},{id:9,text:"health"},{id:10,text:"home"},{id:11,text:"insider"},{id:12,text:"magazine"},{id:13,text:"movies"},{id:14,text:"NYregion"},{id:15,text:"obituaries"},{id:16,text:"opinion"},{id:17,text:"politics"},{id:18,text:"realestate"},{id:19,text:"science"},{id:20,text:"sports"},{id:21,text:"sundayreview"},{id:22,text:"technology"},{id:23,text:"theater"},{id:24,text:"t-magazine"},{id:25,text:"travel"},{id:26,text:"upshot"},{id:27,text:"U.S."},{id:28,text:"world"}],closeOnSelect:!0}),$("#category-selector").change((function(t){$(".article-grid").empty(),$(".error-wrapper").removeClass("show"),$(".loading-wrapper").addClass("show"),$("header").addClass("shrink");let n=$("#category-selector").find(":selected").text();$.getJSON(`https://api.nytimes.com/svc/topstories/v2/${n}.json?api-key=f2IdtWRfwa37ubY3f2wGJ5MDReLY3klv`).done((function({results:t}){console.log("success"),$(".loading-wrapper").removeClass("show"),e=t,i()})).fail((function(t){console.log(t.responseText),$(".loading-wrapper").removeClass("show"),$(".error-wrapper p").text(t.responseText),$(".error-wrapper").addClass("show")}))})),$(window).resize((function(){t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),vh=Math.max(document.documentElement.clientHeight,window.innerHeight||0),null!==e&&i()}))}));